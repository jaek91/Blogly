{% extends "base.html" %}

{% block title %} Edit a Post {% endblock %}

{% block content %}
<h1> Edit a Post </h1>

<form method="POST" action="/posts/{{post.id}}/edit" class="edit-post-form">
    
        <div class="form-group row">
            <label for="title" class="col-sm-2 col-form-label">Title:</label>
            <div class="col-sm-8">
                <input type="text" name="title" class="form-control">
            </div>
        </div>

        <div class="form-group row">
            <label for="content" class="col-sm-2 col-form-label">Content:</label>
            <div class="col-sm-8">
                <textarea type="text" name="content" class="form-control"></textarea>
            </div>
        </div>

    <div class="form-check">
        <p><b> Tags:</b></p>
        {% for tag in tags %}
            <input class="form-check-input" 
            type="checkbox" 
            value="{{tag.id}}"
            name="tags" 
            id="tag-{{tag.id}}" 
            {% if tag in post.tags %} 
                checked 
            {% endif %} 
            >
            <label class="form-check-label" for="tag-{{tag.id}}"> {{tag.name}} </label>
        {% endfor %}
    </div>

    <button type="submit" class="btn btn-success"> Edit </button>
    <button type="submit" formaction="/tags/new" formmethod="GET" class="btn btn-info">Create New Tags</button>
    <button type="submit" formaction="/users/{{post.user_id}}" formmethod="GET" class="btn btn-primary"> Cancel </button>
</form>
{% endblock %}